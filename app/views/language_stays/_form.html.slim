section
  .row.margin-top-navbar
    .col-md-6.mx-auto
      .card.mt-5
        .card-header
          h2 Formulaire Séjour Linguistique
        .card-body
          = simple_form_for [@client, @language_stay] do |f|
            .form-inputs
            	.container-fluid
            		.row
            			.col-md-12
                    h4.mt-4.mb-4 Séjour
                    = f.input :data_entry_responsible, label: 'Responsable de saisie', collection: LanguageStay.data_entry_responsibles.keys.map { |w| [w.humanize, w] }, selected: 0
                    = f.input :commercial_responsible, collection: LanguageStay.commercial_responsibles.keys.map { |w| [w.humanize, w] }, label: 'Responsable commercial', selected: 0
                    = f.input :program_id, collection: Program.all, include_blank: "Merci de sélectionner le type de séjour concerné...", label: false
                    = f.input :partner_company_id, collection: PartnerCompany.all, include_blank: "Merci de sélectionner l'organisme concerné...", label: false, wrapper_html: {class: ['pb-5', 'border-bottom']}

                    h4.mt-4.mb-4 Détails
                    = f.input :start_date, label: 'Début'
                    = f.input :end_date, label: 'Fin'
                    = f.input :location, label: 'Lieu', input_html: {class: 'google_map'}
                    = f.input :option_1, label: 'Option 1/'
                    = f.input :option_2, label: 'Option 2/'
                    = f.input :transfers, collection: ['Aller', 'Retour'], as: :check_boxes, input_html: { multiple: true }, label: 'Transfert'
                    = f.input :class_hours, label: 'Nombre d\'heures de cours (par semaine)'
                    = f.input :accomodation_type, collection: LanguageStay.accomodation_types.keys.map { |w| [w.humanize, w] }, label: 'Type de logement', selected: 0
                    = f.input :accomodation, collection: LanguageStay.accomodations.keys.map { |w| [w.humanize, w] }, label: 'Logement', selected: 0
                    = f.input :pension, collection: LanguageStay.pensions.keys.map { |w| [w.humanize, w] }, label: 'Pension', selected: 0
                    = f.input :room, collection: LanguageStay.rooms.keys.map { |w| [w.humanize, w] }, label: 'Chambre', selected: 0
                    = f.input :precisions, label: 'Précisions'

                    = f.input :fee, label: 'Payment en direct du camp', as: :radio_buttons


            .form-actions.text-center
              = f.button :button, "Valider", class: 'btn btn-primary', data: {disable_with: "<i class='fa fas fa-spinner fa-spin'></i>Chargement".html_safe}
ruby:
  conditionals = [
    {
      selector: '#travel_travel_details_attributes_0_is_correspondence',
      when: [{
        event: 'click',
        actions: [{
          type: 'SHOW',
          nodes: ['.landing-page-brand-members'],
        }]
      }]
      }, {
        selector: '#brand_account_display_team_false',
        when: [{
          event: 'click',
          actions: [{
            type: 'HIDE',
            nodes: ['.landing-page-brand-members'],
          }]
        }]
      }, {
        selector: '#brand_account_display_representative_true',
        when: [{
          event: 'click',
          actions: [{
            type: 'SHOW',
            nodes: ['.landing-page-negociation-service'],
          }]
        }]
      }, {
        selector: '#brand_account_display_representative_false',
        when: [{
          event: 'click',
          actions: [{
            type: 'HIDE',
            nodes: ['.landing-page-negociation-service'],
          }]
        }]
      }, {
        selector: '#brand_account_display_marketplace_true',
        when: [{
          event: 'click',
          actions: [{
            type: 'SHOW',
            nodes: ['.landing-page-properties'],
          }]
        }]
      }, {
        selector: '#brand_account_display_marketplace_false',
        when: [{
          event: 'click',
          actions: [{
            type: 'HIDE',
            nodes: ['.landing-page-properties'],
          }]
        }]
      }].to_json

code data-conditionals= conditionals
